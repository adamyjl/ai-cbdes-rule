# 页面设计规格：图形化搭建画布（桌面优先）

## Global Styles（全局样式与设计令牌）
- Layout: 三栏布局（左节点库 / 中画布 / 右汇总面板），中间画布为可缩放平面。
- Spacing: 8px 基准栅格；常用间距 8/12/16/24。
- Color:
  - 背景：#0B0F19（应用外壳） / 画布底：#0F172A
  - 面板：#111827，边框：#1F2937
  - 主色：#3B82F6（按钮/高亮）
  - 成功：#22C55E，警告：#F59E0B，错误：#EF4444
- Typography:
  - Base: 14px；标题 16/18；说明 12px
  - 字重：400/500/600
- Components:
  - Button：默认实心主色；hover 提亮 6%；disabled 降低透明度
  - Link：主色下划线 hover
  - Card/Panel：圆角 10px，阴影轻微（仅面板）

## Page 1：画布编辑器页

### 1) Meta Information
- Title: 图形化画布编辑器
- Description: 拖拽节点、正交圆角连线、全图输入输出汇总。
- Open Graph:
  - og:title: 图形化画布编辑器
  - og:description: 拖拽节点并查看全图IO汇总。

### 2) Layout（布局与响应）
- 桌面端（>= 1200px）：CSS Grid 三列
  - 左列：280px 固定（节点库）
  - 中列：1fr（画布区域）
  - 右列：360px 固定（IO汇总面板）
- 平板（768–1199px）：右侧面板可折叠为抽屉（默认收起），左节点库保持可见。
- 手机（<768px）：不作为主要目标；画布区域全屏，节点库/右侧面板以底部抽屉切换。

### 3) Page Structure（结构）
- 顶部：App Header（高度 56px）
- 主体：三栏编辑区（左节点库 / 中画布 / 右汇总）

### 4) Sections & Components（模块与交互）

#### A. App Header（顶部工具栏）
- 左侧：产品名 + 当前模式指示（选择/连线）
- 中部：
  - 模式切换：选择模式 / 连线模式（Segmented Control）
  - 撤销、重做（Icon Button）
- 右侧：
  - 缩放控制：- / 百分比 / +
  - 视图控制：自适应视图（Fit View）
  - 清空画布（Danger Button，二次确认弹窗）

#### B. 左侧节点库（Node Palette）
- 搜索框：按节点名称过滤（即时过滤）
- 节点分类列表（可选）：折叠面板（Accordion）
- 节点项（Draggable Card）：
  - 显示节点名 + 简短描述（可省略）
  - 鼠标拖拽到画布释放即创建

#### C. 中央画布（Canvas / Graph View）
- 画布背景：点阵/网格（与吸附一致），可开关
- 基础交互：
  - 平移：按住空白区域拖拽
  - 缩放：Ctrl + 滚轮；或工具栏按钮
  - 选择：点选节点/连线；框选多选（按住拖拽）
  - 删除：选中后 Delete
- 节点（Node）组件：
  - 顶部：节点标题（label）
  - 左侧：输入端口列表（圆点/小方块 + 端口名）
  - 右侧：输出端口列表
  - 状态：选中描边高亮；悬空输入/输出可显示小标记（warn）
- 连线（Edge）组件：
  - 形态：正交折线 + 圆角过渡
  - 状态：默认/悬停高亮/选中高亮
  - 创建：从输出端口拖拽到输入端口；不合法连接时在光标附近提示原因

#### D. 右侧面板（IO Summary Panel）
- 顶部：标题“全图IO汇总” + 刷新状态（实时，无需按钮）
- 分区 1：全局输入（Global Inputs）
  - 列表项：节点名 / 端口名 / schemaKey（如有）
  - 空态：显示“所有输入已被满足”
- 分区 2：全局输出（Global Outputs）
  - 列表项：节点名 / 端口名 / schemaKey（如有）
  - 空态：显示“没有未被消费的输出”
- 分区 3：连接关系摘要（Connections）
  - 可折叠列表：from -> to
- 底部：导出与复制
  - Tabs：JSON / 文本
  - 复制按钮：复制当前Tab内容到剪贴板
  - 仅展示汇总结果（不要求完整图数据）

### 5) Interaction States（关键状态）
- 创建连线失败：
  - 提示样式：右上角 Toast 或光标附近 Tooltip；颜色为警告/错误
  - 不改变现有 edges
- 节点移动：连线路径自动重算；右侧汇总实时更新
- 性能：大图时右侧汇总与连线路径计算建议做节流（例如 16–32ms）以保持拖拽顺滑
